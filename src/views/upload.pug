//- doctype html
//- head
//-   include head
//- .app
//-   header
//-     include navbar
//-     +navbar("upload")
//-   body.bg-dark
//-   input(id="fileupload" type="file" name="files[]" data-url="/upload" multiple="")
//-   script(src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js")
//-   script(src="js/upload/vendor/jquery.ui.widget.js")
//-   script(src="js/upload/jquery.iframe-transport.js")
//-   script(src="js/upload/jquery.fileupload.js")
//-   script.
//-     $(function () {
//-       $('#fileupload').fileupload({
//-         dataType: 'json',
//-         done: function (e, data) {
//-           $.each(data.result.files, function (index, file) {
//-             $('<p></p>').text(file.name).appendTo(document.body);
//-           });
//-         }
//-       });
//-     });
//- .container
//-   .row.mt-5.justify-content-center
//-     .col-4
//-       script.
//-         window.onload = () => {
//-         document.getElementById("upload").addEventListener("click", function () {
//-         document.getElementById("upload").innerText =
//-         "Uploading...";
//-         document.getElementById("uploadForm").submit();
//-         });
//-         };
//-       form#uploadForm(ref='uploadForm' action='/upload' method='post' enctype='multipart/form-data')
//-         label.bg-dark.text-light(for='upload')
//-           h3 Upload video file
//-         input.mt-4.text-light.form-control-file(type='file' name='video' accept='video/mp4')
//-         .form-group
//-           button#upload.btn.btn-secondary.mt-5(value='Upload')
//-             | Upload


doctype html
head
  include head
  link(rel='stylesheet' href='https://blueimp.github.io/Gallery/css/blueimp-gallery.min.css')
  link(rel='stylesheet' href='css/upload/jquery.fileupload.css')
  link(rel='stylesheet' href='css/upload/jquery.fileupload-ui.css')
.app
  header
    include navbar
    +navbar("upload")
  body.bg-dark
  form#fileupload(action='' method='POST' enctype='multipart/form-data')
    // The fileupload-buttonbar contains buttons to add/delete files and start/cancel the upload
    .row.fileupload-buttonbar
      .col-lg-7
        // The fileinput-button span is used to style the file input field as button
        span.btn.btn-success.fileinput-button
          i.glyphicon.glyphicon-plus
          span Add files...
          input(type='file' name='files[]' multiple='')
        button.btn.btn-primary.start(type='submit')
          i.glyphicon.glyphicon-upload
          span Start upload
        button.btn.btn-warning.cancel(type='reset')
          i.glyphicon.glyphicon-ban-circle
          span Cancel upload
        span.fileupload-process
      // The global progress state
      .col-lg-5.fileupload-progress.fade
        // The global progress bar
        .progress.progress-striped.active(role='progressbar' aria-valuemin='0' aria-valuemax='100')
          .progress-bar.progress-bar-success(style='width: 0%;')
        // The extended global progress state
        .progress-extended &nbsp;
    // The table listing the files available for upload/download
    table.table.table-striped(role='presentation')
      tbody.files
// The blueimp Gallery widget
#blueimp-gallery.blueimp-gallery.blueimp-gallery-controls(aria-label='image gallery' aria-modal='true' role='dialog' data-filter=':even')
  .slides(aria-live='polite')
  h3.title
  a.prev(aria-controls='blueimp-gallery' aria-label='previous slide' aria-keyshortcuts='ArrowLeft')
  a.next(aria-controls='blueimp-gallery' aria-label='next slide' aria-keyshortcuts='ArrowRight')
  a.close(aria-controls='blueimp-gallery' aria-label='close' aria-keyshortcuts='Escape')
  a.play-pause(aria-controls='blueimp-gallery' aria-label='play slideshow' aria-keyshortcuts='Space' aria-pressed='false' role='button')
  ol.indicator
include upload_template
script(src='https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js' integrity='sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ' crossorigin='anonymous')
// The jQuery UI widget factory, can be omitted if jQuery UI is already included
script(src='js/upload/vendor/jquery.ui.widget.js')
// The Templates plugin is included to render the upload/download listings
script(src='https://blueimp.github.io/JavaScript-Templates/js/tmpl.min.js')
// The Load Image plugin is included for the preview images and image resizing functionality
script(src='https://blueimp.github.io/JavaScript-Load-Image/js/load-image.all.min.js')
// The Canvas to Blob plugin is included for image resizing functionality
script(src='https://blueimp.github.io/JavaScript-Canvas-to-Blob/js/canvas-to-blob.min.js')
// blueimp Gallery script
script(src='https://blueimp.github.io/Gallery/js/jquery.blueimp-gallery.min.js')
// The Iframe Transport is required for browsers without support for XHR file uploads
script(src='js/upload/jquery.iframe-transport.js')
// The basic File Upload plugin
script(src='js/upload/jquery.fileupload.js')
// The File Upload processing plugin
script(src='js/upload/jquery.fileupload-process.js')
// The File Upload image preview & resize plugin
script(src='js/upload/jquery.fileupload-image.js')
// The File Upload audio preview plugin
script(src='js/upload/jquery.fileupload-audio.js')
// The File Upload video preview plugin
script(src='js/upload/jquery.fileupload-video.js')
// The File Upload validation plugin
script(src='js/upload/jquery.fileupload-validate.js')
// The File Upload user interface plugin
script(src='js/upload/jquery.fileupload-ui.js')
script(src='js/upload.js')
